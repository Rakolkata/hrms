(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4372],{8643:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(37876),s=a(89099),l=a(14232),r=a(21575),i=a(30822);function c(e){let{handleLogout:t}=e,a=(0,s.useRouter)(),[c,o]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),[h,u]=(0,l.useState)(!1);return(0,n.jsxs)("div",{className:"min-h-screen w-72 bg-gray-900 text-white p-6 shadow-lg",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold mb-8",children:"HRMS Panel"}),(0,n.jsxs)("ul",{className:"space-y-4",children:[[{name:"Dashboard",path:"/dashboard"},{name:"Add Employee",path:"/registerEmployee"},{name:"View Employees Details",path:"/employeeList"},{name:"Recruitment Management",path:"/Recruitment/recruitment"},{name:"Reporting and Analytics",path:"/ViewDetails"},{name:"Compliance management",path:"/compliance"},{name:"Performance Management",path:"/compliance"}].map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>a.push(e.path),className:"w-full text-left px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:e.name})},e.name)),(0,n.jsxs)("li",{children:[(0,n.jsxs)("button",{onClick:()=>{o(!c)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,n.jsx)("span",{children:"Attendance & Leave Management"}),c?(0,n.jsx)(r.A,{size:18}):(0,n.jsx)(i.A,{size:18})]}),c&&(0,n.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"Attendance",path:"/hr/attendance"},{name:"Leave Management",path:"/hr/view-leave-requests"},{name:"Attendance Analytics",path:"/attendance/analytics"}].map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>a.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("button",{onClick:()=>{p(!d)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,n.jsx)("span",{children:"Payroll Management"}),d?(0,n.jsx)(r.A,{size:18}):(0,n.jsx)(i.A,{size:18})]}),d&&(0,n.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"View Payrolls",path:"/hr/payroll/payroll-view"},{name:"Generate Payroll",path:"/hr/payroll/generate"}].map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>a.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("button",{onClick:()=>{x(!m)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,n.jsx)("span",{children:"Compliance Management"}),m?(0,n.jsx)(r.A,{size:18}):(0,n.jsx)(i.A,{size:18})]}),m&&(0,n.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"Employee Compliance",path:"/compliance/empCompliance"},{name:"Statutory Compliance",path:"/compliance/statutoryCompliance"},{name:"Document Center",path:"/compliance/documentCenter"},{name:"Policy Acknowledgements",path:"/compliance/policyAcknowledge"},{name:"Audit Logs",path:"/compliance/auditLog"},{name:"Reports & Filings",path:"/compliance/ReportFillings"}].map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>a.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("button",{onClick:()=>{u(!h)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,n.jsx)("span",{children:"Performance Management"}),h?(0,n.jsx)(r.A,{size:18}):(0,n.jsx)(i.A,{size:18})]}),h&&(0,n.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"Goal Setting",path:"/hr/performance/goals"},{name:"Report Apraisal",path:"/hr/performance/reports"}].map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>a.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:t,className:"w-full text-left px-4 py-3 bg-red-600 hover:bg-red-700 transition rounded-lg mt-6",children:"Logout"})})]})]})}},11713:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(14232);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),r=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,n.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:o="",children:d,iconNode:p,...m}=e;return(0,n.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:a,strokeWidth:r?24*Number(l)/Number(s):l,className:i("lucide",o),...m},[...p.map(e=>{let[t,a]=e;return(0,n.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let a=(0,n.forwardRef)((a,l)=>{let{className:c,...d}=a;return(0,n.createElement)(o,{ref:l,iconNode:t,className:i("lucide-".concat(s(r(e))),"lucide-".concat(e),c),...d})});return a.displayName=r(e),a}},21575:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(11713).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},30822:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(11713).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},45231:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(37876),s=a(14232),l=a(8643),r=a(83679),i=a(89099);function c(){let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(!0),p=(0,i.useRouter)();if((0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/hr/attendance"),a=await e.json();t(a)}catch(e){console.error("Error fetching data:",e)}finally{c(!1)}})()},[]),a)return(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-indigo-100 text-indigo-700 text-xl font-semibold",children:"Loading attendance data..."});let m=e=>{p.push("/hr/attendance/".concat(e))};return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-r from-indigo-50 to-indigo-100 flex",children:[(0,n.jsx)(l.A,{}),(0,n.jsxs)("div",{className:"p-8 w-full",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold mb-8 text-indigo-700 text-center",children:"Logged In Employee Attendance"}),(0,n.jsx)("div",{className:"overflow-x-auto shadow-lg rounded-xl",children:(0,n.jsxs)("table",{className:"min-w-full bg-white rounded-lg overflow-hidden",children:[(0,n.jsx)("thead",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase tracking-wider",children:"\uD83C\uDD94 Emp ID"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:"Name"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" Email"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" Role"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" Last Login"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" Last Logout"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" Total Time Spent"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" Attendance"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" Status"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-sm uppercase",children:" View Details"})]})}),(0,n.jsx)("tbody",{className:"text-gray-700 text-sm",children:Array.isArray(e)&&e.length>0?e.map((e,t)=>{let a=o(e.last_login),s=o(e.last_logout),l=d(e.last_login,e.last_logout),i=l>=4?"Present":"Absent",c=e.status;return(0,n.jsxs)("tr",{className:"border-b hover:bg-indigo-300 transition ".concat(t%2==0?"bg-indigo-100":"bg-white"),children:[(0,n.jsx)("td",{className:"px-6 py-4 font-semibold",children:e.empid}),(0,n.jsx)("td",{className:"px-6 py-4",children:e.name}),(0,n.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,n.jsx)("td",{className:"px-6 py-4 capitalize",children:e.role}),(0,n.jsx)("td",{className:"px-6 py-4",children:a}),(0,n.jsx)("td",{className:"px-6 py-4",children:s}),(0,n.jsxs)("td",{className:"px-6 py-4 font-mono",children:[l," mins"]}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat("Present"===i?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:i})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat("Logged In"===c?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-700"),children:c})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)("button",{onClick:()=>m(e.empid),className:"text-blue-600 hover:text-blue-800 content-center",children:(0,n.jsx)(r.Ny1,{className:"text-xl"})})})]},e.empid)}):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500",children:"No attendance data available"})})})]})})]})]})}let o=e=>{if(!e)return"N/A";let t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleString()},d=(e,t)=>{if(!e||!t)return"00:00:00";let a=new Date(e),n=new Date(t);if(isNaN(a.getTime())||isNaN(n.getTime()))return"Invalid Date";let s=Math.abs(n-a)/1e3,l=Math.floor(s/3600),r=Math.floor(s%3600/60),i=Math.floor(s%60);return"".concat(String(l).padStart(2,"0"),":").concat(String(r).padStart(2,"0"),":").concat(String(i).padStart(2,"0"))}},52880:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr/attendance",function(){return a(45231)}])},89099:(e,t,a)=>{e.exports=a(48253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(52880)),_N_E=e.O()}]);