(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2075],{16594:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>d});var a=r(37876),t=r(14232),i=r(89099),s=r(91040);function d(){let e=(0,i.useRouter)(),{id:n}=e.query,[r,d]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({address_line_1:"",address_line_2:"",city:"",state:"",pincode:"",country:"",highest_qualification:"",aadhar_card:null,pan_card:null,aadhar_number:"",pan_number:"",education_certificates:null,resume:null,experience_certificate:null,profile_photo:null,account_holder_name:"",bank_name:"",branch_name:"",account_number:"",ifsc_code:"",bank_details:null,contact_no:""});(0,t.useEffect)(()=>{n&&s.A.get("/api/recruitment/getCandidateById?id=".concat(n)).then(e=>{l(e.data),u(n=>({...n,contact_no:e.data.contact_no||""}))}).catch(e=>console.error("Error fetching candidate:",e))},[n]);let g=e=>{let{name:n,value:r,files:a,type:t}=e.target;"file"===t?u(e=>({...e,[n]:a[0]})):u(e=>({...e,[n]:r}))},m=async(e,n)=>{let r=e.target.files[0];if(!r)return;let a=new FormData;a.append("document",r),("aadhar"===n||"pan"===n)&&d(!0);try{let e=await fetch("/api/textract",{method:"POST",body:a}),r=await e.json();if(null==r?void 0:r.extractedText){let e="";if("aadhar"===n){let n=r.extractedText.match(/\b\d{4}\s\d{4}\s\d{4}\b/);n&&(e=n[0].replace(/\s/g,""))}else if("pan"===n){let n=r.extractedText.match(/\b[A-Z]{5}[0-9]{4}[A-Z]\b/);n&&(e=n[0])}u(r=>({...r,["".concat(n,"_number")]:e}))}}catch(e){console.error("Textract error:",e)}finally{("aadhar"===n||"pan"===n)&&d(!1)}},x=async r=>{if(r.preventDefault(),10!==c.contact_no.length||!/^\d+$/.test(c.contact_no)){alert("Invalid contact number. Please enter a 10-digit number.");return}if(c.account_number.length>19){alert("Account number cannot exceed 19 characters.");return}let a=new FormData;Object.entries(c).forEach(e=>{let[n,r]=e;r&&a.append(n,r)}),a.append("candidate_id",n),a.append("name",o.name),a.append("email",o.email);try{let n=await s.A.post("/api/recruitment/submitForm",a);alert("Form submitted successfully.\nGenerated Password: ".concat(n.data.password)),e.push("/Recruitment/form/docs_submitted")}catch(e){console.error("Error submitting form:",e),alert("Failed to submit form")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-100 via-purple-100 to-pink-100 py-10 px-4",children:(0,a.jsxs)("div",{className:"w-full max-w-3xl bg-white shadow-2xl rounded-3xl p-10 transition-all duration-500",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-center text-indigo-700 mb-10",children:"Candidate Submission Form"}),(0,a.jsxs)("form",{onSubmit:x,className:"grid gap-8",encType:"multipart/form-data",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Candidate ID"}),(0,a.jsx)("input",{type:"text",value:(null==o?void 0:o.candidate_id)||"Loading...",readOnly:!0,className:"w-full px-5 py-3 border border-gray-300 rounded-xl bg-gray-100 text-gray-600 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Name"}),(0,a.jsx)("input",{type:"text",value:(null==o?void 0:o.name)||"Loading...",readOnly:!0,className:"w-full px-5 py-3 border border-gray-300 rounded-xl bg-gray-100 text-gray-600 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Email"}),(0,a.jsx)("input",{type:"email",value:(null==o?void 0:o.email)||"Loading...",readOnly:!0,className:"w-full px-5 py-3 border border-gray-300 rounded-xl bg-gray-100 text-gray-600 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Contact No."}),(0,a.jsx)("input",{type:"text",name:"contact_no",value:c.contact_no,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-700 mt-6 mb-4 text-center",children:"Address"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Address Line 1"}),(0,a.jsx)("input",{type:"text",name:"address_line_1",value:c.address_line_1,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Address Line 2"}),(0,a.jsx)("input",{type:"text",name:"address_line_2",value:c.address_line_2,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"City"}),(0,a.jsx)("input",{type:"text",name:"city",value:c.city,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"State"}),(0,a.jsx)("input",{type:"text",name:"state",value:c.state,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Pincode"}),(0,a.jsx)("input",{type:"text",name:"pincode",value:c.pincode,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Country"}),(0,a.jsx)("input",{type:"text",name:"country",value:c.country,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),r&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-10 backdrop-brightness-75",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-600 border-t-transparent"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-700 mt-6 mb-4 text-center",children:"Documents"}),(0,a.jsxs)("div",{className:"grid grid-row-2 grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Aadhar Card"}),(0,a.jsx)("input",{type:"file",name:"aadhar_card",accept:"image/*,application/pdf",onChange:e=>m(e,"aadhar"),required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"}),(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"PAN Card"}),(0,a.jsx)("input",{type:"file",name:"pan_card",accept:"image/*,application/pdf",onChange:e=>m(e,"pan"),required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"text",name:"aadhar_number",placeholder:"Aadhar Card Number",value:c.aadhar_number||"",onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"text",name:"pan_number",placeholder:"PAN Card Number",value:c.pan_number||"",onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Educational Certificates"}),(0,a.jsx)("input",{type:"file",name:"education_certificates",onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Highest Qualification"}),(0,a.jsx)("input",{type:"text",name:"highest_qualification",value:c.highest_qualification,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Resume"}),(0,a.jsx)("input",{type:"file",name:"resume",onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Profile Photo"}),(0,a.jsx)("input",{type:"file",name:"profile_photo",onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Experience Certificate"}),(0,a.jsx)("input",{type:"file",name:"experience_certificate",onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-700 mt-6 mb-4 text-center",children:"Bank Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Account Holder Name"}),(0,a.jsx)("input",{type:"text",name:"account_holder_name",value:c.account_holder_name,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Bank Name"}),(0,a.jsx)("input",{type:"text",name:"bank_name",value:c.bank_name,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Branch Name"}),(0,a.jsx)("input",{type:"text",name:"branch_name",value:c.branch_name,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Account Number"}),(0,a.jsx)("input",{type:"text",name:"account_number",value:c.account_number,onChange:g,required:!0,maxLength:20,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"IFSC Code"}),(0,a.jsx)("input",{type:"text",name:"ifsc_code",value:c.ifsc_code,onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 text-center",children:"Bank Details File"}),(0,a.jsx)("input",{type:"file",name:"bank_details",onChange:g,required:!0,className:"w-full px-5 py-3 border border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm text-center"})]})]}),(0,a.jsx)("button",{type:"submit",className:"w-full px-5 py-3 bg-indigo-600 text-white rounded-xl mt-6 shadow-md hover:bg-indigo-700",children:"Submit Form"})]})]})})}},37802:(e,n,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Recruitment/form/[id]",function(){return r(16594)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[2615,1040,636,6593,8792],()=>n(37802)),_N_E=e.O()}]);