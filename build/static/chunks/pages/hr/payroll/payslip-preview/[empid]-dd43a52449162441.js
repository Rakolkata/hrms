(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9914],{8643:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var l=t(37876),a=t(89099),i=t(14232),s=t(21575),r=t(30822);function o(e){let{handleLogout:n}=e,t=(0,a.useRouter)(),[o,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),[x,g]=(0,i.useState)(!1);return(0,l.jsxs)("div",{className:"min-h-screen w-72 bg-gray-900 text-white p-6 shadow-lg",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold mb-8",children:"HRMS Panel"}),(0,l.jsxs)("ul",{className:"space-y-4",children:[[{name:"Dashboard",path:"/dashboard"},{name:"Add Employee",path:"/registerEmployee"},{name:"View Employees Details",path:"/employeeList"},{name:"Recruitment Management",path:"/Recruitment/recruitment"},{name:"Reporting and Analytics",path:"/ViewDetails"},{name:"Compliance management",path:"/compliance"},{name:"Performance Management",path:"/compliance"}].map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>t.push(e.path),className:"w-full text-left px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:e.name})},e.name)),(0,l.jsxs)("li",{children:[(0,l.jsxs)("button",{onClick:()=>{c(!o)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,l.jsx)("span",{children:"Attendance & Leave Management"}),o?(0,l.jsx)(s.A,{size:18}):(0,l.jsx)(r.A,{size:18})]}),o&&(0,l.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"Attendance",path:"/hr/attendance"},{name:"Leave Management",path:"/hr/view-leave-requests"},{name:"Attendance Analytics",path:"/attendance/analytics"}].map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>t.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,l.jsxs)("li",{children:[(0,l.jsxs)("button",{onClick:()=>{p(!d)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,l.jsx)("span",{children:"Payroll Management"}),d?(0,l.jsx)(s.A,{size:18}):(0,l.jsx)(r.A,{size:18})]}),d&&(0,l.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"View Payrolls",path:"/hr/payroll/payroll-view"},{name:"Generate Payroll",path:"/hr/payroll/generate"}].map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>t.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,l.jsxs)("li",{children:[(0,l.jsxs)("button",{onClick:()=>{h(!m)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,l.jsx)("span",{children:"Compliance Management"}),m?(0,l.jsx)(s.A,{size:18}):(0,l.jsx)(r.A,{size:18})]}),m&&(0,l.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"Employee Compliance",path:"/compliance/empCompliance"},{name:"Statutory Compliance",path:"/compliance/statutoryCompliance"},{name:"Document Center",path:"/compliance/documentCenter"},{name:"Policy Acknowledgements",path:"/compliance/policyAcknowledge"},{name:"Audit Logs",path:"/compliance/auditLog"},{name:"Reports & Filings",path:"/compliance/ReportFillings"}].map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>t.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,l.jsxs)("li",{children:[(0,l.jsxs)("button",{onClick:()=>{g(!x)},className:"w-full text-left flex justify-between items-center px-4 py-3 bg-gray-800 rounded-lg hover:bg-indigo-600 transition",children:[(0,l.jsx)("span",{children:"Performance Management"}),x?(0,l.jsx)(s.A,{size:18}):(0,l.jsx)(r.A,{size:18})]}),x&&(0,l.jsx)("ul",{className:"pl-6 pt-2 space-y-2",children:[{name:"Goal Setting",path:"/hr/performance/goals"},{name:"Report Apraisal",path:"/hr/performance/reports"}].map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>t.push(e.path),className:"w-full text-left text-sm px-3 py-2 bg-gray-700 rounded-lg hover:bg-indigo-500 transition",children:e.name})},e.name))})]}),(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:n,className:"w-full text-left px-4 py-3 bg-red-600 hover:bg-red-700 transition rounded-lg mt-6",children:"Logout"})})]})]})}},33427:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>m});var l=t(37876),a=t(89099),i=t(14232),s=t(14312),r=t(43028),o=t.n(r),c=t(8643),d=t(54587),p=t.n(d);function m(){let{empid:e,month:n,year:t}=(0,a.useRouter)().query,[r,d]=(0,i.useState)(null),[m,x]=(0,i.useState)(null),g=(0,i.useRef)(null);(0,i.useEffect)(()=>{e&&n&&t&&(fetch("/api/hr/employees/payroll-details?empid=".concat(e)).then(e=>e.json()).then(d),fetch("/api/hr/payroll/get?empid=".concat(e)).then(e=>e.json()).then(e=>{x(e.find(e=>e.month===n&&String(e.year)===String(t))||null)}))},[e,n,t]);let u=async()=>{if(!g.current)return;await new Promise(e=>setTimeout(e,500));let l=await o()(g.current,{scale:2}),a=l.toDataURL("image/png"),i=new s.uE("p","mm","a4"),r=i.internal.pageSize.getWidth(),c=i.internal.pageSize.getHeight(),d=.264583*l.width,p=.264583*l.height,m=Math.min(r/d,c/p),h=d*m,x=p*m;i.addImage(a,"PNG",(r-h)/2,(c-x)/2,h,x),i.save("Payslip-".concat(e,"-").concat(n,"-").concat(t,".pdf"))};if(!r||!m)return(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,l.jsx)("p",{style:{color:"#6B7280"},children:"Loading payslip…"})});let y=Array.isArray(m.allowances)?m.allowances:[],j=Array.isArray(m.deductions)?m.deductions:[],f=y.filter(e=>e.include),b=j.filter(e=>e.include),v=f.reduce((e,n)=>e+(n.value||0),0),w=b.reduce((e,n)=>e+(n.value||0),0),A=m.pf||0,C=m.ptax||0,N=m.esic||0;return(0,l.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#F3F4F6"},children:[(0,l.jsx)(c.A,{})," ",(0,l.jsxs)("div",{style:{flex:1,padding:"2rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsxs)("div",{ref:g,style:{width:"800px",background:"#ffffff",border:"1px solid #D1D5DB",borderRadius:"0.5rem",padding:"2rem",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,l.jsx)(p(),{src:"/profile_icon.jpg",alt:"Logo",width:48,height:48}),(0,l.jsxs)("div",{style:{textAlign:"right"},children:[(0,l.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#4F46E5"},children:"PAYSLIP"}),(0,l.jsxs)("p",{style:{fontSize:"0.875rem",color:"#4B5563"},children:[n," ",t]})]})]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",fontSize:"0.875rem",marginBottom:"1.5rem"},children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Employee ID:"})," ",r.empid]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Name:"})," ",r.name]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Email:"})," ",r.email]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Contact:"})," ",r.contact_number]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Role:"})," ",r.role]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Position:"})," ",r.position]})]}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",fontSize:"0.875rem"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{style:{fontWeight:"600",color:"#4F46E5",marginBottom:"0.5rem"},children:"Earnings"}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(0,l.jsx)(h,{label:"BASIC SALARY",value:m.basic_salary}),(0,l.jsx)(h,{label:"HRA",value:m.hra}),(0,l.jsx)(h,{label:"BONUS",value:m.bonus}),(0,l.jsx)(h,{label:"DA",value:m.da}),(0,l.jsx)(h,{label:"OTHER ALLOWANCES",value:v})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{style:{fontWeight:"600",color:"#4F46E5",marginBottom:"0.5rem"},children:"Deductions"}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(0,l.jsx)(h,{label:"PF",value:A}),(0,l.jsx)(h,{label:"PTAX",value:C}),(0,l.jsx)(h,{label:"ESIC",value:N}),(0,l.jsx)(h,{label:"OTHER DEDUCTIONS",value:w}),(0,l.jsx)(h,{label:"TOTAL DEDUCTIONS",value:w+(A+C+N)})]})]})]}),(0,l.jsxs)("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"space-between"},children:[(0,l.jsxs)("p",{style:{fontWeight:"500",color:"#4B5563"},children:["Generated on: ",new Date(m.generated_on).toLocaleDateString()]}),(0,l.jsxs)("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#15803D"},children:["Net Pay: ₹",m.net_pay.toLocaleString("en-IN")]})]}),(0,l.jsx)("div",{style:{borderTop:"1px solid #D1D5DB",marginTop:"2rem",paddingTop:"1rem",textAlign:"center",fontSize:"0.75rem",color:"#6B7280"},children:(0,l.jsx)("p",{children:"Company Name \xb7 Address line 1 \xb7 Address line 2 \xb7 Contact"})})]}),(0,l.jsx)("button",{onClick:u,style:{marginTop:"1.5rem",padding:"0.5rem 1.5rem",backgroundColor:"#4F46E5",color:"#fff",borderRadius:"0.5rem",border:"none",cursor:"pointer"},children:"Download PDF"})]})]})}function h(e){let{label:n,value:t}=e;return(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:n}),(0,l.jsxs)("span",{children:["₹",Number(t).toLocaleString("en-IN")]})]})}},81652:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/hr/payroll/payslip-preview/[empid]",function(){return t(33427)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[2366,347,3802,636,6593,8792],()=>n(81652)),_N_E=e.O()}]);